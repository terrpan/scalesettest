# ------------------------------------------------------------------
# scaleset -- configuration file
# ------------------------------------------------------------------
# Copy this file to config.yaml and fill in the values.
# CLI flags override any value set here.
# ------------------------------------------------------------------

github:
  # Full URL where the scale set is registered.
  # Can be a repo, org, or enterprise URL.
  url: "https://github.com/org/repo"

  # --- Authentication (pick ONE) ---

  # Option 1: GitHub App (recommended)
  app:
    client_id: ""
    installation_id: 0
    # Path to the PEM file containing the app's private key.
    private_key_path: ""
    # Or inline (not recommended for production):
    # private_key: |
    #   -----BEGIN RSA PRIVATE KEY-----
    #   ...
    #   -----END RSA PRIVATE KEY-----

  # Option 2: Personal Access Token
  # token: "ghp_..."

scaleset:
  # Name of the scale set. Workflows target it via runs-on: <name>.
  name: "my-scaleset"

  # Extra labels for workflow targeting. Defaults to [name] if empty.
  labels: []

  # Runner group to register in. "default" uses the built-in group.
  runner_group: "default"

  # Runner count bounds.
  min_runners: 0
  max_runners: 10

engine:
  # Compute backend: "docker", "gcp" (future: "ec2", "azure")
  type: "docker"

  docker:
    # Container image for the runner.
    image: "ghcr.io/actions/actions-runner:latest"

    # Enable Docker-in-Docker by bind-mounting the host's Docker socket
    # (/var/run/docker.sock) into each runner container.  This lets
    # workflows run docker build, docker compose, container actions, etc.
    #
    # Security: the socket gives runners full access to the host Docker
    # daemon.  Only enable if you trust the workflows running on these
    # runners.
    dind: false

  # gcp:
  #   # GCP project ID (required).
  #   project: "my-project"
  #
  #   # Zone for runner VMs (required).
  #   zone: "us-central1-a"
  #
  #   # Machine type for runner VMs.  Default: "e2-medium".
  #   machine_type: "e2-medium"
  #
  #   # Full image self-link or family URL (required).
  #   # Use a family URL to always get the latest image:
  #   #   Linux:   "projects/my-project/global/images/family/scaleset-runner"
  #   #   Windows: "projects/my-project/global/images/family/scaleset-runner-windows"
  #   # Or pin to a specific image:
  #   #   "projects/my-project/global/images/scaleset-runner-1234567890"
  #   image: "projects/my-project/global/images/family/scaleset-runner"
  #
  #   # Boot disk size in GB.  Default: 50.
  #   disk_size_gb: 50
  #
  #   # VPC network name.  Default: "default".
  #   network: "default"
  #
  #   # Subnetwork (optional).  If empty, the default subnet for the
  #   # zone is used.
  #   # subnet: "projects/my-project/regions/us-central1/subnetworks/my-subnet"
  #
  #   # Whether runner VMs get an external IP.  Default: true.
  #   public_ip: true
  #
  #   # Service account to attach to runner VMs (optional).
  #   # If empty, the project's default compute service account is used.
  #   # service_account: "runner@my-project.iam.gserviceaccount.com"
  #
  #   # Authentication: uses Application Default Credentials (ADC).
  #   # No credential fields needed.  See docs/gcp/README.md for setup.

logging:
  # debug | info | warn | error
  level: "info"
  # text | json
  format: "text"
